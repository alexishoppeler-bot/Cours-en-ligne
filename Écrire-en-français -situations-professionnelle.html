<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>√âcrire en fran√ßais ‚Äì sauvegarde et PDF</title>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
body{
  font-family: Arial, sans-serif;
  background:#eef3f9;
  margin:0;
  padding:20px;
}

.container{
  max-width:900px;
  margin:auto;
  background:white;
  padding:30px;
  border-radius:20px;
  box-shadow:0 6px 25px rgba(0,0,0,0.12);
}

h1{
  text-align:center;
  color:#004c97;
}

.consigne{
  background:#f3f7ff;
  padding:20px;
  border-radius:16px;
  margin-bottom:22px;
  border-left:6px solid #004c97;
}

.consigne h3{
  margin-top:0;
  color:#004c97;
}

.consigne ul{
  margin:10px 0 0 20px;
}

textarea{
  width:100%;
  height:260px;
  font-size:16px;
  padding:16px;
  border-radius:16px;
  border:1px solid #ccc;
  resize:none;
}

.actions{
  display:flex;
  gap:15px;
  margin-top:15px;
  flex-wrap:wrap;
}

button{
  flex:1;
  padding:14px;
  font-size:16px;
  border:none;
  border-radius:16px;
  cursor:pointer;
}

.trad{background:#004c97;color:white;}
.trad:hover{background:#003366;}

.pdf{background:#2e8b57;color:white;}
.pdf:hover{background:#246b44;}

.clear{background:#ddd;}

.note{
  margin-top:20px;
  text-align:center;
  font-size:14px;
  color:#555;
}
.saved{
  text-align:center;
  font-size:13px;
  color:#2e8b57;
  margin-top:8px;
}
</style>
</head>

<body>

<div class="container">

<h1>‚úçÔ∏è √âcrire en fran√ßais ‚Äì situation professionnelle</h1>

<div class="consigne">
<h3>Consignes</h3>

<b>1. Choisissez un sujet :</b>
<ul>
  <li>vous pr√©senter pour un travail</li>
  <li>d√©crire une exp√©rience professionnelle</li>
  <li>parler de vos comp√©tences</li>
  <li>√©crire un petit email professionnel</li>
</ul>

<b>2. R√®gles :</b>
<ul>
  <li>5 √† 8 phrases courtes</li>
  <li>phrases simples</li>
  <li>pas d‚Äôinformations priv√©es</li>
  <li>√©crivez d‚Äôabord en fran√ßais</li>
</ul>

<b>3. La traduction :</b><br>
Utilisez-la seulement pour v√©rifier ou comprendre,  
pas pour √©crire √† votre place.
</div>

<textarea id="texte" placeholder="Exemple :

Je cherche un emploi dans le nettoyage.
J‚Äôai travaill√© deux ans dans une entreprise.
Je suis ponctuel et s√©rieux.
Je sais travailler en √©quipe.
Je suis disponible le matin.
"></textarea>

<div class="saved" id="savedMsg"></div>

<div class="actions">
  <button class="trad" onclick="ouvrirTraduction()">üåç Aide √† la traduction</button>
  <button class="pdf" onclick="telechargerPDF()">üìÑ T√©l√©charger le PDF</button>
  <button class="clear" onclick="effacer()">üóë Effacer</button>
</div>

<div class="note">
‚úÖ Le texte est sauvegard√© automatiquement.
</div>

</div>

<script>
const zone = document.getElementById("texte");
const msg = document.getElementById("savedMsg");

// CHARGEMENT AUTO
zone.value = localStorage.getItem("textePA") || "";

// SAUVEGARDE AUTO
zone.addEventListener("input", ()=>{
  localStorage.setItem("textePA", zone.value);
  msg.textContent = "üíæ Texte sauvegard√© automatiquement";
  setTimeout(()=>msg.textContent="",1500);
});

// GOOGLE TRANSLATE
function ouvrirTraduction(){
  const txt = zone.value.trim();
  if(!txt){
    alert("√âcrivez un texte avant d‚Äôutiliser la traduction.");
    return;
  }
  const url = "https://translate.google.com/?sl=fr&tl=en&text=" +
              encodeURIComponent(txt);
  window.open(url,"_blank");
}

// PDF
function telechargerPDF(){
  const txt = zone.value.trim();
  if(!txt){
    alert("Aucun texte √† t√©l√©charger.");
    return;
  }

  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();
  pdf.setFont("Times","Normal");
  pdf.setFontSize(12);

  const lines = pdf.splitTextToSize(txt, 180);
  pdf.text(lines,15,20);

  pdf.save("mon_texte_francais.pdf");
}

// EFFACER
function effacer(){
  if(confirm("Voulez-vous vraiment effacer le texte ?")){
    zone.value="";
    localStorage.removeItem("textePA");
  }
}
</script>

</body>
</html>
