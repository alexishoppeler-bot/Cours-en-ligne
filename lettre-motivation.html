<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>üíº G√©n√©rateur de lettres de motivation ‚Äì Version compl√®te</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body {
  font-family: "Calibri", sans-serif;
  background-color: #f3f4f6;
  display: flex;
  justify-content: center;
  padding: 40px;
}
.container {
  width: 880px;
  background-color: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  padding: 40px 60px;
}
h1 { text-align: center; color: #1a73e8; }
label { font-weight: bold; display: block; margin-top: 12px; }
input, select {
  width: 100%; padding: 8px; border-radius: 6px;
  border: 1px solid #ccc; margin-top: 4px; font-size: 14px;
}
.ligne { display: flex; gap: 10px; }
.ligne input { flex: 1; }
.zone { margin-top: 14px; padding: 10px; border-radius: 8px; }
.qualites { background: #f1f1f1; }
.competences { background: #e7f6e7; }
.exemples label { display: block; font-weight: normal; margin-top: 4px; }
button {
  margin-top: 20px; background-color: #1a73e8; color: #fff;
  border: none; padding: 10px 20px; border-radius: 8px;
  cursor: pointer; font-size: 16px;
}
button:hover { background-color: #0c5fd1; }
.actions { display: flex; gap: 10px; }
.result {
  margin-top: 40px; white-space: pre-wrap;
  font-size: 15px; line-height: 1.6;
  font-family: "Calibri", sans-serif;
}
.result .expediteur { margin-bottom: 20px; }
.result .destinataire { margin-left: 10cm; margin-bottom: 20px; }
</style>
</head>

<body>
<div class="container">
  <h1>üíº G√©n√©rateur de lettres de motivation ‚Äì Cibl√©e / Spontan√©e</h1>

  <label>Genre :</label>
  <select id="genre" onchange="majGenre()">
    <option value="homme">Homme</option>
    <option value="femme">Femme</option>
  </select>

  <label>Type de candidature :</label>
  <select id="type" onchange="majLettre()">
    <option value="ciblee">Cibl√©e (pour une annonce)</option>
    <option value="spontanee">Spontan√©e (sans annonce)</option>
  </select>

  <label>Exp√©rience professionnelle :</label>
  <select id="experience" onchange="majLettre()">
    <option value="avec">J‚Äôai d√©j√† travaill√© dans ce domaine</option>
    <option value="sans">Je d√©bute mais je suis motiv√©(e)</option>
  </select>

  <label>Nom et pr√©nom :</label>
  <input id="nom" oninput="majLettre()" placeholder="Ex : Alex Dupont">

  <label>Adresse :</label>
  <input id="adresse" oninput="majLettre()" placeholder="Ex : Rue du Lac 4">
  <div class="ligne">
    <input id="npa" oninput="majLettre()" placeholder="Ex : 1800">
    <input id="ville" oninput="majLettre()" placeholder="Ex : Vevey">
  </div>

  <label>Email :</label>
  <input id="email" oninput="majLettre()" placeholder="Ex : alex.dupont@gmail.com">

  <label>T√©l√©phone :</label>
  <input id="tel" oninput="majLettre()" placeholder="Ex : 078 123 45 67">

  <label>Entreprise :</label>
  <input id="entreprise" oninput="majLettre()" placeholder="Ex : H√¥tel du Lac">

  <label>Adresse de l‚Äôentreprise :</label>
  <input id="adresseEntreprise" oninput="majLettre()" placeholder="Ex : Rue du Port 3">
  <div class="ligne">
    <input id="npaEntreprise" oninput="majLettre()" placeholder="Ex : 1800">
    <input id="villeEntreprise" oninput="majLettre()" placeholder="Ex : Vevey">
  </div>

  <label>Date :</label>
  <input id="date" type="date" onchange="majLettre()">

  <label>Poste souhait√© :</label>
  <input id="poste" oninput="majLettre()" placeholder="Ex : employ√© polyvalent / employ√©e polyvalente">

  <label>M√©tier :</label>
  <select id="metier" onchange="majQualites();majCompetences();majLettre()">
    <option value="">Choisir...</option>
  </select>

  <div class="zone qualites">
    <label>Qualit√©s personnelles :</label>
    <div id="zoneExemplesQualites" class="exemples"></div>
  </div>

  <div class="zone competences">
    <label>Comp√©tences techniques :</label>
    <div id="zoneExemplesCompetences" class="exemples"></div>
  </div>

  <div class="actions">
    <button onclick="telechargerPDF()">üìÑ T√©l√©charger PDF</button>
    <button onclick="effacerTout()">üßπ Effacer tout</button>
  </div>

  <div id="lettre" class="result">üëâ Remplissez les champs pour g√©n√©rer votre lettre.</div>
</div>

<script>
// ===============================
//  M√âTIERS HOMME
// ===============================
const metiersHomme = {
  "agent de nettoyage": {
    domaine: "du nettoyage",
    qualites: ["soigneux", "ponctuel", "organis√©", "discret", "fiable"],
    competences: ["utilisation du mat√©riel", "entretien des sols", "nettoyage des vitres", "produits d‚Äôentretien", "s√©curit√© au travail"],
    exemplesQualites: {
      soigneux: ["Je veille √† la propret√© irr√©prochable des locaux.", "Je respecte les produits et r√®gles d‚Äôhygi√®ne."],
      ponctuel: ["J‚Äôarrive toujours √† l‚Äôheure.", "Je respecte les horaires de travail et les d√©lais fix√©s."],
      organis√©: ["Je planifie mon travail selon les priorit√©s.", "Je garde mon mat√©riel bien rang√©."],
      discret: ["Je travaille sans d√©ranger les occupants.", "Je garde une attitude calme et polie."],
      fiable: ["On peut me faire confiance pour la qualit√© du travail.", "Je respecte les consignes de s√©curit√©."]
    },
    exemplesCompetences: {
      "utilisation du mat√©riel": ["J‚Äôutilise la monobrosse et l‚Äôaspirateur industriel.", "Je connais les produits adapt√©s √† chaque surface."],
      "entretien des sols": ["Je nettoie, cire et entretiens les sols selon le type de rev√™tement."],
      "nettoyage des vitres": ["Je nettoie les vitres avec pr√©cision et s√©curit√©."],
      "produits d‚Äôentretien": ["Je dose les produits selon les instructions et pictogrammes."],
      "s√©curit√© au travail": ["Je respecte les consignes et porte les √©quipements de protection."]
    }
  },
  "aide de cuisine": {
    domaine: "de la cuisine",
    qualites: ["rapide", "attentif", "propre", "collaboratif", "patient"],
    competences: ["pr√©paration des aliments", "hygi√®ne alimentaire", "plonge", "aide au chef", "gestion du poste"],
    exemplesQualites: {
      rapide: ["Je garde un bon rythme pendant le service.", "Je pr√©pare les plats efficacement."],
      attentif: ["J‚Äô√©coute les consignes du chef et je v√©rifie la qualit√© des plats."],
      propre: ["Je garde mon poste de travail propre et respecte les r√®gles d‚Äôhygi√®ne."],
      collaboratif: ["Je travaille en bonne entente avec mes coll√®gues."],
      patient: ["Je garde mon calme pendant les moments de forte activit√©."]
    },
    exemplesCompetences: {
      "pr√©paration des aliments": ["Je coupe, √©pluche et pr√©pare les l√©gumes.", "Je pr√©pare les salades et entr√©es."],
      "hygi√®ne alimentaire": ["Je respecte les normes HACCP.", "Je nettoie r√©guli√®rement les surfaces et ustensiles."],
      "plonge": ["Je lave et range la vaisselle rapidement."],
      "aide au chef": ["Je soutiens le chef pendant le service et pr√©pare les ingr√©dients."],
      "gestion du poste": ["Je garde mon poste organis√© et propre en tout temps."]
    }
  },
  "plongeur": {
    domaine: "de la restauration",
    qualites: ["rapide", "r√©sistant", "propre", "calme", "fiable"],
    competences: ["lavage de la vaisselle", "entretien du mat√©riel", "organisation du poste", "respect des r√®gles d‚Äôhygi√®ne", "aide en cuisine"],
    exemplesQualites: {
      rapide: ["Je maintiens un bon rythme sans n√©gliger la qualit√©."],
      r√©sistant: ["Je supporte le travail debout et le rythme soutenu."],
      propre: ["Je garde la zone de lavage propre."],
      calme: ["Je garde mon calme pendant les p√©riodes de forte activit√©."],
      fiable: ["On peut compter sur moi pour la propret√© du mat√©riel."]
    },
    exemplesCompetences: {
      "lavage de la vaisselle": ["Je nettoie la vaisselle avec soin et efficacit√©."],
      "entretien du mat√©riel": ["Je nettoie la machine √† laver apr√®s usage."],
      "organisation du poste": ["Je garde mon espace de travail bien rang√©."],
      "respect des r√®gles d‚Äôhygi√®ne": ["Je respecte strictement les consignes sanitaires."],
      "aide en cuisine": ["Je soutiens les cuisiniers selon les besoins."]
    }
  },
  "employ√© de production": {
    domaine: "de la production",
    qualites: ["pr√©cis", "rapide", "concentr√©", "soigneux", "responsable"],
    competences: ["manipulation de machines", "contr√¥le qualit√©", "emballage", "s√©curit√© en production", "travail en √©quipe"],
    exemplesQualites: {
      pr√©cis: ["Je v√©rifie mon travail avec rigueur avant de poursuivre."],
      rapide: ["Je garde un rythme soutenu sans perte de qualit√©."],
      concentr√©: ["Je reste attentif tout au long de la journ√©e."],
      soigneux: ["Je manipule les produits avec pr√©caution."],
      responsable: ["Je respecte les consignes et les d√©lais."]
    },
    exemplesCompetences: {
      "manipulation de machines": ["Je sais utiliser les machines de production en s√©curit√©."],
      "contr√¥le qualit√©": ["Je contr√¥le la conformit√© des produits avant emballage."],
      "emballage": ["Je conditionne les produits proprement."],
      "s√©curit√© en production": ["Je respecte les consignes de s√©curit√©."],
      "travail en √©quipe": ["Je communique efficacement avec mes coll√®gues."]
    }
  },
  "blanchisseur": {
    domaine: "de la blanchisserie",
    qualites: ["soigneux", "rapide", "organis√©", "propre", "responsable"],
    competences: ["tri du linge", "lavage", "repassage", "pliage", "contr√¥le qualit√©"],
    exemplesQualites: {
      soigneux: ["Je respecte les temp√©ratures et les cycles adapt√©s."],
      rapide: ["Je garde un bon rythme pendant le repassage."],
      organis√©: ["Je planifie les cycles de lavage."],
      propre: ["Je garde mon poste de travail propre."],
      responsable: ["Je signale toute anomalie sur le linge."]
    },
    exemplesCompetences: {
      "tri du linge": ["Je trie le linge selon la couleur et la mati√®re."],
      "lavage": ["Je ma√Ætrise les programmes de lavage adapt√©s."],
      "repassage": ["Je repasse avec pr√©cision et soin."],
      "pliage": ["Je plie le linge proprement avant livraison."],
      "contr√¥le qualit√©": ["Je v√©rifie la propret√© et l‚Äô√©tat du linge."]
    }
  },
  "ouvrier en b√¢timent": {
    domaine: "du b√¢timent",
    qualites: ["ponctuel", "r√©sistant", "prudent", "attentif", "polyvalent"],
    competences: ["ma√ßonnerie", "peinture", "pr√©paration de chantier", "utilisation d‚Äôoutils", "travail en √©quipe"],
    exemplesQualites: {
      ponctuel: ["Je respecte toujours les horaires de d√©but de chantier."],
      r√©sistant: ["Je supporte le travail physique et les conditions ext√©rieures."],
      prudent: ["Je respecte les r√®gles de s√©curit√© sur le chantier."],
      attentif: ["Je suis attentif aux consignes du chef d‚Äô√©quipe."],
      polyvalent: ["Je peux m‚Äôadapter √† diff√©rents types de t√¢ches."]
    },
    exemplesCompetences: {
      "ma√ßonnerie": ["Je pr√©pare et applique le mortier, pose des briques et blocs."],
      "peinture": ["Je pr√©pare les murs et applique la peinture proprement."],
      "pr√©paration de chantier": ["J‚Äôaide √† la mise en place du mat√©riel et des protections."],
      "utilisation d‚Äôoutils": ["Je sais utiliser correctement les outils manuels et √©lectriques."],
      "travail en √©quipe": ["Je collabore efficacement avec mes coll√®gues sur le chantier."]
    }
  },
  "livreur": {
    domaine: "de la logistique",
    qualites: ["ponctuel", "responsable", "organis√©", "autonome", "souriant"],
    competences: ["conduite", "respect des d√©lais", "contact client", "chargement", "livraison"],
    exemplesQualites: {
      ponctuel: ["Je respecte toujours les horaires de livraison."],
      responsable: ["Je veille √† la s√©curit√© des marchandises."],
      organis√©: ["Je planifie mes tourn√©es efficacement."],
      autonome: ["Je g√®re les impr√©vus avec calme."],
      souriant: ["J‚Äôentretiens un bon contact avec les clients."]
    },
    exemplesCompetences: {
      "conduite": ["Je conduis avec prudence et respecte le code de la route."],
      "respect des d√©lais": ["Je livre toujours dans les temps pr√©vus."],
      "contact client": ["Je reste courtois et professionnel lors des livraisons."],
      "chargement": ["Je charge le v√©hicule de mani√®re s√©curis√©e."],
      "livraison": ["Je livre les produits en bon √©tat et r√©cup√®re les bons sign√©s."]
    }
  },
  "chauffeur": {
    domaine: "du transport",
    qualites: ["ponctuel", "attentif", "responsable", "calme", "fiable"],
    competences: ["conduite professionnelle", "s√©curit√© routi√®re", "navigation", "entretien du v√©hicule", "relation client"],
    exemplesQualites: {
      ponctuel: ["Je respecte toujours les horaires fix√©s."],
      attentif: ["Je reste concentr√© sur la route et anticipe les risques."],
      responsable: ["Je veille √† la s√©curit√© des passagers et des biens transport√©s."],
      calme: ["Je garde mon calme dans les embouteillages ou situations stressantes."],
      fiable: ["On peut compter sur moi pour la ponctualit√© et le s√©rieux."]
    },
    exemplesCompetences: {
      "conduite professionnelle": ["Je conduis prudemment et efficacement."],
      "s√©curit√© routi√®re": ["Je respecte toutes les r√®gles du trafic routier."],
      "navigation": ["Je planifie les itin√©raires avec GPS ou cartes."],
      "entretien du v√©hicule": ["Je v√©rifie r√©guli√®rement l‚Äô√©tat du v√©hicule."],
      "relation client": ["Je reste poli et serviable avec les passagers."]
    }
  },
  "peintre": {
    domaine: "de la construction",
    qualites: ["soigneux", "patient", "minutieux", "autonome", "cr√©atif"],
    competences: ["pr√©paration des surfaces", "application de peinture", "finition", "utilisation du mat√©riel", "choix des couleurs"],
    exemplesQualites: {
      soigneux: ["Je travaille proprement et prot√®ge bien les surfaces."],
      patient: ["Je prends le temps d‚Äôobtenir un r√©sultat parfait."],
      minutieux: ["Je fais attention aux d√©tails et aux finitions."],
      autonome: ["Je g√®re mon travail avec m√©thode."],
      cr√©atif: ["J‚Äôaime harmoniser les couleurs et les mati√®res."]
    },
    exemplesCompetences: {
      "pr√©paration des surfaces": ["Je ponce, nettoie et appr√™te avant de peindre."],
      "application de peinture": ["J‚Äôapplique la peinture avec pr√©cision."],
      "finition": ["Je r√©alise les finitions et retouches impeccablement."],
      "utilisation du mat√©riel": ["J‚Äôentretiens mes outils pour un bon rendu."],
      "choix des couleurs": ["Je conseille les clients sur les teintes adapt√©es."]
    }
  }
};

// ===============================
//  M√âTIERS FEMME
// ===============================
const metiersFemme = {
  "agente de nettoyage": JSON.parse(JSON.stringify(metiersHomme["agent de nettoyage"])),
  "aide de cuisine": JSON.parse(JSON.stringify(metiersHomme["aide de cuisine"])),
  "plongeuse": JSON.parse(JSON.stringify(metiersHomme["plongeur"])),
  "employ√©e de production": JSON.parse(JSON.stringify(metiersHomme["employ√© de production"])),
  "blanchisseuse": JSON.parse(JSON.stringify(metiersHomme["blanchisseur"])),
  "ouvri√®re en b√¢timent": JSON.parse(JSON.stringify(metiersHomme["ouvrier en b√¢timent"])),
  "livreuse": JSON.parse(JSON.stringify(metiersHomme["livreur"])),
  "chauffeuse": JSON.parse(JSON.stringify(metiersHomme["chauffeur"])),
  "peintre": JSON.parse(JSON.stringify(metiersHomme["peintre"])),
  "coiffeuse": {
    domaine: "de la coiffure",
    qualites: ["accueillante", "soigneuse", "cr√©ative", "patiente", "attentive"],
    competences: ["coupe", "coloration", "brushing", "entretien du mat√©riel", "relation client"],
    exemplesQualites: {
      accueillante: ["Je mets les clients √† l‚Äôaise d√®s leur arriv√©e."],
      soigneuse: ["Je fais attention aux d√©tails dans chaque coupe."],
      cr√©ative: ["J‚Äôaime proposer de nouvelles id√©es de coiffure."],
      patiente: ["Je prends le temps d‚Äô√©couter les besoins du client."],
      attentive: ["Je respecte les consignes et les souhaits du client."]
    },
    exemplesCompetences: {
      "coupe": ["Je r√©alise les coupes selon le style demand√©."],
      "coloration": ["Je pr√©pare et applique les couleurs avec soin."],
      "brushing": ["Je ma√Ætrise les techniques de brushing et coiffage."],
      "entretien du mat√©riel": ["Je nettoie et d√©sinfecte les outils apr√®s usage."],
      "relation client": ["Je conseille et fid√©lise la client√®le."]
    }
  }
};
// ===============================
//  FONCTIONS G√âN√âRALES
// ===============================
function majGenre(){
  const genre=document.getElementById("genre").value;
  const data=genre==="homme"?metiersHomme:metiersFemme;
  const sel=document.getElementById("metier");
  sel.innerHTML='<option value="">Choisir...</option>';
  Object.keys(data).forEach(m=>{
    const o=document.createElement("option");
    o.value=m;o.textContent=m.charAt(0).toUpperCase()+m.slice(1);
    sel.appendChild(o);
  });
  document.getElementById("zoneExemplesQualites").innerHTML="";
  document.getElementById("zoneExemplesCompetences").innerHTML="";
  document.getElementById("lettre").textContent="";
}

function majQualites(){
  const genre=document.getElementById("genre").value,m=document.getElementById("metier").value;
  const z=document.getElementById("zoneExemplesQualites");z.innerHTML="";
  const d=genre==="homme"?metiersHomme:metiersFemme;if(!m||!d[m])return;
  const t=document.createElement("p");t.innerHTML="<b>Choisissez vos qualit√©s :</b>";z.appendChild(t);
  d[m].qualites.forEach(q=>{
    const cb=document.createElement("input");cb.type="checkbox";cb.value=q;cb.onchange=afficherExemplesQualites;
    const l=document.createElement("label");l.textContent=" "+q;z.appendChild(cb);z.appendChild(l);z.appendChild(document.createElement("br"));
  });
}

function majCompetences(){
  const genre=document.getElementById("genre").value,m=document.getElementById("metier").value;
  const z=document.getElementById("zoneExemplesCompetences");z.innerHTML="";
  const d=genre==="homme"?metiersHomme:metiersFemme;if(!m||!d[m])return;
  const t=document.createElement("p");t.innerHTML="<b>Choisissez vos comp√©tences :</b>";z.appendChild(t);
  d[m].competences.forEach(c=>{
    const cb=document.createElement("input");cb.type="checkbox";cb.value=c;cb.onchange=afficherExemplesCompetences;
    const l=document.createElement("label");l.textContent=" "+c;z.appendChild(cb);z.appendChild(l);z.appendChild(document.createElement("br"));
  });
}

function afficherExemplesQualites(){
  const g=document.getElementById("genre").value,m=document.getElementById("metier").value;
  const d=g==="homme"?metiersHomme:metiersFemme;
  const z=document.getElementById("zoneExemplesQualites");
  z.querySelectorAll(".liste-exemples").forEach(el=>el.remove());
  Array.from(z.querySelectorAll("input[type=checkbox]:checked")).forEach(q=>{
    const div=document.createElement("div");div.className="liste-exemples";
    d[m].exemplesQualites[q.value].forEach(ex=>{
      const cb=document.createElement("input");cb.type="checkbox";cb.value=ex;cb.onchange=majLettre;
      const l=document.createElement("label");l.textContent=ex;div.appendChild(cb);div.appendChild(l);div.appendChild(document.createElement("br"));
    });z.appendChild(div);
  });
}

function afficherExemplesCompetences(){
  const g=document.getElementById("genre").value,m=document.getElementById("metier").value;
  const d=g==="homme"?metiersHomme:metiersFemme;
  const z=document.getElementById("zoneExemplesCompetences");
  z.querySelectorAll(".liste-exemples").forEach(el=>el.remove());
  Array.from(z.querySelectorAll("input[type=checkbox]:checked")).forEach(c=>{
    const div=document.createElement("div");div.className="liste-exemples";
    d[m].exemplesCompetences[c.value].forEach(ex=>{
      const cb=document.createElement("input");cb.type="checkbox";cb.value=ex;cb.onchange=majLettre;
      const l=document.createElement("label");l.textContent=ex;div.appendChild(cb);div.appendChild(l);div.appendChild(document.createElement("br"));
    });z.appendChild(div);
  });
}

// ===============================
//  LETTRE AUTOMATIQUE
// ===============================
function majLettre(){
  const g=document.getElementById("genre").value,
        type=document.getElementById("type").value,
        exp=document.getElementById("experience").value,
        nom=document.getElementById("nom").value,
        adresse=document.getElementById("adresse").value,
        npa=document.getElementById("npa").value,
        ville=document.getElementById("ville").value,
        email=document.getElementById("email").value,
        tel=document.getElementById("tel").value,
        entreprise=document.getElementById("entreprise").value,
        adresseEnt=document.getElementById("adresseEntreprise").value,
        npaEnt=document.getElementById("npaEntreprise").value,
        villeEnt=document.getElementById("villeEntreprise").value,
        date=document.getElementById("date").value,
        poste=document.getElementById("poste").value,
        metier=document.getElementById("metier").value;
  const d=g==="homme"?metiersHomme:metiersFemme;
  if(!metier||!d[metier]){document.getElementById("lettre").textContent="";return;}

  const qEx=Array.from(document.querySelectorAll("#zoneExemplesQualites .liste-exemples input:checked")).map(c=>c.value).join(" ");
  const cEx=Array.from(document.querySelectorAll("#zoneExemplesCompetences .liste-exemples input:checked")).map(c=>c.value).join(" ");
  const dom=d[metier].domaine;
  const e=g==="femme"?"e":"";
  const motive=g==="femme"?"motiv√©e":"motiv√©";
  const ravi=g==="femme"?"ravie":"ravi";
  const pret=g==="femme"?"pr√™te":"pr√™t";

  // Intro selon type
  const intro = type==="ciblee"
    ? `Suite √† votre annonce, je souhaite postuler pour le poste de ${poste||metier} au sein de votre entreprise.`
    : `Je me permets de vous adresser ma candidature spontan√©e pour un poste de ${poste||metier} au sein de votre entreprise.`;

  let p1,p2,p3,p4;
  if(exp==="avec"){
    p1=`${intro} F${g==="femme"?"orte":"ort"} de mon exp√©rience dans le domaine ${dom}, je suis ${motive} √† mettre mes comp√©tences au service de votre √©quipe.`;
    p2=`De nature s√©rieus${e} et appliqu√©${e}, ${qEx||"je veille √† la qualit√© du travail tout en respectant les consignes."}`;
    p3=`Par ailleurs, ${cEx||"je ma√Ætrise les principales techniques de mon m√©tier et respecte les normes de s√©curit√©."}`;
  } else {
    p1=`${intro} Souhaitant apprendre un nouveau m√©tier, je suis ${motive} √† d√©velopper mes comp√©tences dans le domaine ${dom}.`;
    p2=`S√©rieus${e} et appliqu√©${e}, ${qEx||"je fais preuve de soin dans tout ce que j‚Äôentreprends."}`;
    p3=`De plus, ${cEx||"je suis "+pret+" √† apprendre de nouvelles m√©thodes et √† suivre les consignes de s√©curit√©."}`;
  }
  p4=`Souhaitant rejoindre une √©quipe dynamique, je serais ${ravi} de vous rencontrer afin d‚Äô√©changer sur ma candidature. Dans l‚Äôattente de votre r√©ponse, je vous prie d‚Äôagr√©er, Madame, Monsieur, mes salutations distingu√©es.`;

  const lettre=`${nom}
${adresse}
${npa} ${ville}
${email}
${tel}

${entreprise}
${adresseEnt}
${npaEnt} ${villeEnt}

${ville}, le ${date?new Date(date).toLocaleDateString('fr-CH'):'...date...'}

Objet : Candidature pour le poste de ${poste||metier}

${p1}

${p2}

${p3}

${p4}

${nom}`;
  document.getElementById("lettre").textContent=lettre;
}

// ===============================
//  PDF + EFFACER
// ===============================
function telechargerPDF(){
  const {jsPDF}=window.jspdf;
  const txt=document.getElementById("lettre").textContent;
  if(!txt.trim()){alert("Veuillez d‚Äôabord g√©n√©rer la lettre !");return;}
  const doc=new jsPDF({unit:"mm",format:"a4"});
  const lignes=doc.splitTextToSize(txt,170);
  doc.setFont("helvetica","normal");doc.setFontSize(12);
  doc.text(lignes,20,20);doc.save("Lettre_de_motivation.pdf");
}

function effacerTout(){
  document.querySelectorAll("input,select").forEach(e=>e.value="");
  document.getElementById("zoneExemplesQualites").innerHTML="";
  document.getElementById("zoneExemplesCompetences").innerHTML="";
  document.getElementById("lettre").textContent="üëâ Remplissez les champs pour g√©n√©rer votre lettre.";
  majGenre();
}

window.onload=majGenre;
</script>
</body>
</html>
